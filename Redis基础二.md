### 一、常用命令

1. 全局命令

   keys *  # 查看所有键，令会遍历所 有键，所以它的时间复杂度是O（n），当Redis保存了大量键时，线上环境禁止使用。

   dbsize # 查看键总数，dbsize命令在计算键总数时不会遍历所有键，而是直接获取Redis内置的 键总数变量，所以dbsize命令的时间复杂度是O（1）。

   exists key # 检查键是否存在，键存在则返回1，不存在则返回0。

   del key # 删除键，无论值是什么数据结构类型，del命令都可以将其 删除，返回结果为成功删除键的个数，假设删除一个不存在的键，就会返回0，支持同时删除多个键：`del key1 key2 key3`

   expire key seconds #设置键过期

   ttl key # 返回键的剩余时间，-1：表示没有设置过期时间（永不过期），-2：键不存在（已经过期被删除）

   type key # 键的数据结构类型，键不存在返回none

   object encoding key # 查询内部编码

### 二、单线程架构

​	Redis使用了**单线程架构**（解决并发问题）和**I/O多路复用模型**（解决I/O问题）来实现高性能的内存数据库 服务。

​	单线程的特点：

1. 单线程避免了线程切换和竞态产生的消耗。
2. 可以简化数据结构和算法的实现。
3. 对于每个命令的执行时间是有要求的。如果 某个命令执行过长，会造成其他命令的阻塞。
4. 很多存储系统和编程语言内部使用CAS机制实现计数功能，会有一定的 CPU开销，但在Redis中完全不存在这个问题，因为Redis是单线程架构，任 何命令到了Redis服务端都要顺序执行。